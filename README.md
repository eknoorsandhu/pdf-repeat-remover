# Project: AP Practice Video Notes

## Background and Purpose

As a 10th-grade student preparing for the AP exams, I found many practice videos online and wanted to create useful PDF notes from these videos. To accomplish this, I first wrote a tool (`video_ss.py`) to take screenshots from the videos at regular intervals (every 2 seconds). While this worked, it generated too many redundant screenshots, resulting in massive PDF files.

To solve this, I learned about perceptual hashing, a method for identifying similar images by comparing their visual content. Using this concept, I created the `clean_pdf.py` script to remove similar pages from PDFs, significantly reducing their size. Then, I was able to annotate these concise PDF notes while watching the videos to improve my study experience.

## Included Files

1. **`video_ss.py`**
   - Captures screenshots every 2 seconds from a video and saves them as a PDF.
   - Useful for generating initial PDF notes from videos.

2. **`clean_pdf.py`**
   - Cleans up the PDFs generated by `video_ss.py` by removing similar pages.
   - Uses perceptual hashing to identify and remove consecutive duplicate pages.

## Installation

This project uses [UV](https://docs.astral.sh/uv/guides/install-python/) for dependency management. To set up the project:

1. Clone the repository:

   ```bash
   git clone <repository_url>
   cd <repository_directory>
   ```

2. Install dependencies:
   - If using UV:

     ```bash
     uv sync
     ```

   - Alternatively, if not using UV, install directly from the `pyproject.toml`:

     ```bash
     pip install tqdm pdf2image pypdf2 imagehash reportlab
     ```

3. For `pdf2image` to work, you need to install Poppler. Follow the instructions for your platform:

   - **Linux**: Install via your package manager:

     ```bash
     sudo apt-get install poppler-utils
     ```

   - **Mac**: Use Homebrew:

     ```bash
     brew install poppler
     ```

## How to Use

### Generate PDF Notes from Videos

1. Run `video_ss.py` to generate a PDF of screenshots from a video:

   ```bash
   uv run video_ss.py
   ```

   or

   ```bash
   python video_ss.py
   ```

   - Follow the prompt to specify the directory containing the videos.

### Compress the PDF Notes

1. Run `clean_pdf.py` to remove similar pages from the generated PDF:

   ```bash
   uv run clean_pdf.py
   ```

   or

   ```bash
   python clean_pdf.py
   ```

   - Follow the prompt to specify the directory containing the PDFs.

## Notes

- Ensure you have sufficient storage and memory, some of the PDFs can be quite large depending on the video size.
- Experiment with the settings (e.g., DPI, perceptual hashing threshold) for your specific needs.

This project was a fun way to create effective study materials but also taught me valuable skills in Python programming and image processing. I hope it can be helpful for others as well!
